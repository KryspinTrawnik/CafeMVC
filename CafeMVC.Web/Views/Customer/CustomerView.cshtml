@model CafeMVC.Application.ViewModels.Customer.CustomerDetailViewsVm
@{
    string title = "Customer View";
    Layout = "_Layout";
}

<h1>@title</h1>
<br>
<br>
<h5>Id:  @Html.DisplayFor(m => m.Id)</h5>
<h5>Full Name</h5>
<h6>@Html.DisplayFor(m => m.FullName)</h6>
<br>
<br>
<h5>Contact Details</h5>
<br>
<h5>E-mail</h5>
<br />
<table style="width:50%">
    @for (int i = 0; i < Model.ContactDetails.Count; i++)
     {
        if (Model.ContactDetails[i].ContactDetailType == "E-mail")
        {
            <tr>
                <td> @Html.DisplayFor(m => m.ContactDetails[i].ContactDetailInformation)</td>
                <td>
                     <a class="btn btn-info btn-sm" href="@Url.Action("ChangeContactDetail", "Customer", new { contactDetailId = Model.ContactDetails[i].Id})">
                      Edit
                     </a>
                </td>
                <td>
                    <a class="btn btn-danger btn-sm" href="@Url.Action("RemoveContactDetail", "Customer", new { contactDetailId = Model.ContactDetails[i].Id})">
                    Delete
                    </a>
                </td>
            </tr>
        }
     }

</table>
<br>
<br>
<h5>Telephones Numbers</h5>
<br />
<table style="width:50%">
    @for (int i = 0; i < Model.ContactDetails.Count; i++)
    {
        if (Model.ContactDetails[i].ContactDetailType != "E-mail")
        {
            <tr>
                <td> @Html.DisplayFor(m => m.ContactDetails[i].ContactDetailInformation)  </td>
                <td> 
                    <a class="btn btn-info btn-sm" href="@Url.Action("ChangeContactDetail", "Customer", new { contactDetailId = Model.ContactDetails[i].Id})">
                        Edit
                    </a>  
                </td>
                <td>
                    <a class="btn btn-danger btn-sm" href="@Url.Action("RemoveContactDetail", "Customer", new { contactDetailId = Model.ContactDetails[i].Id})">
                        Delete
                    </a>
                </td>
            </tr>
        }

     }
</table>
<br />
<br />
@Html.ActionLink("Add New Contact Detail", "AddNewContactDetail", new { customerId = Model.Id })
<br />
<br />
<h5>Addresses</h5>
<table style="width:50%">
    <tr>
        <th>No.</th>
        <th>Type</th>
        <th>Street</th>
        <th></th>
        <th></th>
    </tr>
    @for (int i = 0; i < Model.Addresses.Count; i++)
    {
<tr>
    <td>@i</td>
    <td>@Html.DisplayFor(m => m.Addresses[i].Type)</td>
    <td>@Html.DisplayFor(m => m.Addresses[i].Street)</td>
    <td>
        <a class="btn btn-primary" href="@Url.Action("ViewAddress", "Customer", new { adderssId = Model.Addresses[i].Id})">
            View
        </a>
    </td>
    <td>
        <a class="btn btn-info btn-sm" href="@Url.Action("ChangeAddress", "Customer", new { adderssId = Model.Addresses[i].Id})">
            Edit
        </a>
    </td>
    <td>
        <a class="btn btn-danger btn-sm" href="@Url.Action("DeleteAddress", "Customer", new { adderssId = Model.Addresses[i].Id})">
            Delete
        </a>
    </td>

</tr>
    }

</table>
<br />
<br />
<h5>Orders</h5>
<br />
@if (Model.Orders.Count == 0)
{
    <h6>No Orders to Show</h6>
}
else
{
    <table style="width:50%">
        <tr>
            <th>No.</th>
            <th>Date</th>
            <th>Products Number</th>
            <th>Total Price</th>
            <th></th>
        </tr>
        @for (int i = 0; i < Model.Addresses.Count; i++)
        {
            <tr>
                <td>@i</td>
                <td>@Html.DisplayFor(m => m.Orders[i].DateOfOrder)</td>
                <td>@Html.DisplayFor(m => m.Orders[i].ProductsCount)</td>
                <td>@Html.DisplayFor(m => m.Orders[i].TotalPrice)</td>
                <td>@Html.ActionLink("Details", "OrderView", "OrderController", new { orderId = Model.Orders[i].Id })</td>
            </tr>
        }
    </table>
}